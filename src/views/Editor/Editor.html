<form class="narrow-center container is-centered">
	<section class="section">
		<div class="container has-text-centered title is-2">
			Add a new character
		</div>
		<div class="field">
			<label class="label">Character Name</label>
			<div class="control">
				<input
					class="input name-input"
					type="text"
					placeholder="Text input"
					:value="currentCharacter.name"
				/>
			</div>
		</div>
		<div class="field">
			<label class="label">Origin</label>
			<div class="control">
				<input
					class="input name-input"
					type="text"
					placeholder="Text input"
					:value="currentCharacter.origin"
				/>
			</div>
		</div>

		<label class="label">Character Image Url</label>
		<div class="field has-addons">
			<div class="control image-url-input">
				<input
					class="input"
					type="text"
					placeholder="Text input"
					:value="currentCharacter.imageUrl"
					ref="mainCharacterImageInput"
				/>
			</div>
			<div class="control">
				<a
					class="image-submit-button button is-primary"
					@click="loadMainCharacterImage"
				>
					Submit
				</a>
			</div>
		</div>
		<div>
			<div
				v-show="mainImageUrl || currentCharacter.imageUrl"
				class="label"
			>
				Image Preview
			</div>
			<div v-show="mainImageErrorMessage" class="has-text-danger">
				Error! Could not load image!
				<div>{{ mainImageErrorMessage }}</div>
			</div>
			<img
				class="image container"
				alt="mainCharacter"
				:src="
					currentCharacter.imageUrl
						? currentCharacter.imageUrl
						: mainImageUrl
				"
				v-show="mainImageUrl || currentCharacter.imageUrl"
			/>
		</div>
	</section>
	<section class="columns">
		<div class="column">
			<div class="field">
				<input
					id="variantsSwitch"
					type="checkbox"
					name="variantsSwitch"
					class="switch is-rounded"
					:checked="currentCharacter.variants && currentCharacter.variants.length > 0"
					@click="showVariants"
				/>
				<label for="variantsSwitch"
					>Does this character have variants?</label
				>
				<div
					v-for="(variant, index) in currentCharacter.variants"
					:key="variant.name"
					v-show="variantsVisible"
				>
					<div class="field">
						<label class="label">Variant Name</label>
						<div class="control">
							<input
								class="input name-input"
								type="text"
								placeholder="Text input"
								:value="variant.name"
							/>
						</div>
					</div>
					<label class="label">Variant Image Url</label>
					<div class="field has-addons">
						<div class="control image-url-input">
							<input
								class="input"
								type="text"
								placeholder="Text input"
								:value="variant.imageUrl"
								ref="variantImageInput"
							/>
						</div>
						<div class="control">
							<a
								class="image-submit-button button is-primary"
								@click="loadVariantImage(index)"
							>
								Submit
							</a>
						</div>
					</div>
					<div>
						<div
							v-show="
								variantImageUrl[index] || variant.imageUrl
							"
							class="label"
						>
							Image Preview
						</div>
						<div
							v-show="variantImageErrorMessage[index]"
							class="has-text-danger"
						>
							Error! Could not load image!
							<div>{{ variantImageErrorMessage[index] }}</div>
						</div>
						<img
							class="image"
							alt="variant"
							:src="
								variant.imageUrl
									? variant.imageUrl
									: variantImageUrl[index]
							"
							v-show="
								variantImageUrl[index] || variant.imageUrl
							"
						/>
					</div>
				</div>
			</div>
		</div>
		<div class="column">
			<div class="field">
				<input
					id="partnersSwitch"
					type="checkbox"
					name="partnersSwitch"
					class="switch is-rounded"
					:checked="currentCharacter.partners && currentCharacter.partners.length > 0"
					@click="showPartners"
				/>
				<label for="partnersSwitch"
					>Does this character have partners?</label
				>
				<div
					v-for="(partner, index) in currentCharacter.partners"
					:key="partner.name"
					v-show="partnersVisible"
				>
					<div class="field">
						<label class="label">Partner Name</label>
						<div class="control">
							<input
								class="input name-input"
								type="text"
								placeholder="Text input"
								:value="partner.name"
							/>
						</div>
					</div>
					<label class="label">Partner Image Url</label>
					<div class="field has-addons">
						<div class="control image-url-input">
							<input
								class="input"
								type="text"
								placeholder="Text input"
								:value="partner.imageUrl"
								ref="partnerImageInput"
							/>
						</div>
						<div class="control">
							<a
								class="image-submit-button button is-primary"
								@click="loadPartnerImage(index)"
							>
								Submit
							</a>
						</div>
					</div>
					<div>
						<div
							v-show="
								partnerImageUrl[index] || partner.imageUrl
							"
							class="label"
						>
							Image Preview
						</div>
						<div
							v-show="partnerImageErrorMessage[index]"
							class="has-text-danger"
						>
							Error! Could not load image!
							<div>{{ partnerImageErrorMessage[index] }}</div>
						</div>
						<img
							class="image"
							alt="partner"
							:src="
								partner.imageUrl
									? partner.imageUrl
									: partnerImageUrl[index]
							"
							v-show="
								partnerImageUrl[index] || partner.imageUrl
							"
						/>
					</div>
				</div>
			</div>
		</div>
	</section>
</form>
